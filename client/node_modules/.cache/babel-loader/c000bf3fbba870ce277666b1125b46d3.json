{"ast":null,"code":"import _defineProperty from \"/Users/kylemac/Desktop/classwork/properChannels/client/node_modules/@babel/runtime/helpers/esm/defineProperty\";\nimport _classCallCheck from \"/Users/kylemac/Desktop/classwork/properChannels/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/kylemac/Desktop/classwork/properChannels/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/kylemac/Desktop/classwork/properChannels/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/kylemac/Desktop/classwork/properChannels/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/kylemac/Desktop/classwork/properChannels/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nimport _assertThisInitialized from \"/Users/kylemac/Desktop/classwork/properChannels/client/node_modules/@babel/runtime/helpers/esm/assertThisInitialized\";\nvar _jsxFileName = \"/Users/kylemac/Desktop/classwork/properChannels/client/src/components/SignupForm/index.js\";\nimport React, { Component } from 'react';\nimport { Container, Col, Row, Button, Form, FormGroup, Label, Input, FormText } from 'reactstrap';\nimport axios from 'axios';\nimport { Redirect } from 'react-router-dom';\nimport SelectUSState from 'react-select-us-states';\n\nvar SignupForm =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(SignupForm, _Component);\n\n  function SignupForm() {\n    var _this;\n\n    _classCallCheck(this, SignupForm);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SignupForm).call(this));\n    _this.state = {\n      username: '',\n      password: '',\n      confirmPassword: '',\n      // address: '',\n      addrStreet: '',\n      addrCity: '',\n      addrState: '',\n      addrZip: '',\n      redirectTo: null\n    };\n    _this.handleSubmit = _this.handleSubmit.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleChange = _this.handleChange.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    _this.handleUsStateSelect = _this.handleUsStateSelect.bind(_assertThisInitialized(_assertThisInitialized(_this)));\n    return _this;\n  }\n\n  _createClass(SignupForm, [{\n    key: \"handleChange\",\n    value: function handleChange(event) {\n      this.setState(_defineProperty({}, event.target.name, event.target.value));\n    } // Handle submission of signup form\n\n  }, {\n    key: \"handleSubmit\",\n    value: function handleSubmit(event) {\n      var _this2 = this;\n\n      event.preventDefault(); // Check that password and confirmPassword are identical\n\n      if (this.state.password === this.state.confirmPassword) {\n        // TODO - add error notification for user if non-matching\n        console.log(this.state.username);\n        console.log(this.state.password);\n        console.log(this.state.addrZip); // POST signup request\n\n        axios.post('/auth/signup', {\n          username: this.state.username,\n          password: this.state.password,\n          // address: this.state.address\n          address: {\n            street: this.state.addrStreet,\n            city: this.state.addrCity,\n            state: this.state.addrState,\n            zipCode: this.state.addrZip\n          }\n        }) // Wait for response to see if signup successful\n        .then(function (response) {\n          console.log(response);\n\n          if (!response.data.error) {\n            console.log('SUCCESSFUL LOGIN');\n\n            _this2.setState({\n              redirectTo: '/login'\n            });\n          } else {\n            console.log('Error adding user to database:');\n            console.log(response.data.error);\n          }\n        }).catch(function (err) {\n          console.log(err);\n        });\n      }\n    }\n  }, {\n    key: \"handleUsStateSelect\",\n    value: function handleUsStateSelect(selectedValue) {\n      console.log(selectedValue);\n      this.setState({\n        addrState: selectedValue\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this.state.redirectTo) {\n        return React.createElement(Redirect, {\n          to: {\n            pathname: this.state.redirectTo\n          },\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 84\n          },\n          __self: this\n        });\n      }\n\n      return React.createElement(Container, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87\n        },\n        __self: this\n      }, React.createElement(Form, {\n        className: \"SignupForm\",\n        onSubmit: this.handleSubmit,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88\n        },\n        __self: this\n      }, React.createElement(\"h2\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 89\n        },\n        __self: this\n      }, \"Register with Proper Channels\"), React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, React.createElement(Col, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, React.createElement(FormGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 94\n        },\n        __self: this\n      }, React.createElement(Label, {\n        htmlFor: \"username\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 95\n        },\n        __self: this\n      }, \"Username: \"), React.createElement(Input, {\n        type: \"text\",\n        id: \"username\",\n        name: \"username\",\n        value: this.state.username,\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }))), React.createElement(Col, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      })), React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 109\n        },\n        __self: this\n      }, React.createElement(Col, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 110\n        },\n        __self: this\n      }, React.createElement(FormGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 111\n        },\n        __self: this\n      }, React.createElement(Label, {\n        htmlFor: \"password\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 112\n        },\n        __self: this\n      }, \"Password: \"), React.createElement(Input, {\n        type: \"password\",\n        id: \"password\",\n        name: \"password\",\n        value: this.state.password,\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 113\n        },\n        __self: this\n      }))), React.createElement(Col, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 123\n        },\n        __self: this\n      }, React.createElement(FormGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 124\n        },\n        __self: this\n      }, React.createElement(Label, {\n        htmlFor: \"confirmPassword\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 126\n        },\n        __self: this\n      }, \"Confirm Password: \"), React.createElement(Input, {\n        type: \"password\",\n        id: \"confirmPassword\",\n        name: \"confirmPassword\",\n        value: this.state.confirmPassword,\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 127\n        },\n        __self: this\n      })))), React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 155\n        },\n        __self: this\n      }, React.createElement(Col, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 156\n        },\n        __self: this\n      }), React.createElement(Col, {\n        xs: \"9\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 157\n        },\n        __self: this\n      }, React.createElement(FormGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 158\n        },\n        __self: this\n      }, React.createElement(Label, {\n        htmlFor: \"addrStreet\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 159\n        },\n        __self: this\n      }, \"Street Address\"), React.createElement(Input, {\n        type: \"text\",\n        id: \"addrStreet\",\n        name: \"addrStreet\",\n        value: this.state.addrStreet,\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 160\n        },\n        __self: this\n      }))), React.createElement(Col, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 169\n        },\n        __self: this\n      })), React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 173\n        },\n        __self: this\n      }, React.createElement(Col, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 174\n        },\n        __self: this\n      }), React.createElement(Col, {\n        xs: \"4\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 176\n        },\n        __self: this\n      }, React.createElement(FormGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 177\n        },\n        __self: this\n      }, React.createElement(Label, {\n        htmlFor: \"addrCity\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 178\n        },\n        __self: this\n      }, \"City\"), React.createElement(Input, {\n        type: \"text\",\n        id: \"addrCity\",\n        name: \"addrCity\",\n        value: this.state.addrCity,\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 179\n        },\n        __self: this\n      }))), React.createElement(Col, {\n        xs: \"3\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 189\n        },\n        __self: this\n      }, React.createElement(FormGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 190\n        },\n        __self: this\n      }, React.createElement(Label, {\n        htmlFor: \"addrState\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 191\n        },\n        __self: this\n      }, \"State\"), React.createElement(SelectUSState, {\n        id: \"addrState\",\n        name: \"addrState\",\n        className: \"form-control\",\n        onChange: this.handleUsStateSelect,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 192\n        },\n        __self: this\n      }))), React.createElement(Col, {\n        xs: \"2\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 196\n        },\n        __self: this\n      }, React.createElement(FormGroup, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 197\n        },\n        __self: this\n      }, React.createElement(Label, {\n        htmlFor: \"addrZip\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 198\n        },\n        __self: this\n      }, \"Zip Code\"), React.createElement(Input, {\n        type: \"text\",\n        id: \"addrZip\",\n        name: \"addrZip\",\n        value: this.state.addrZip,\n        onChange: this.handleChange,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 199\n        },\n        __self: this\n      }))), React.createElement(Col, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 209\n        },\n        __self: this\n      })), React.createElement(Button, {\n        type: \"submit\",\n        color: \"primary\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 212\n        },\n        __self: this\n      }, \"Sign up\")));\n    }\n  }]);\n\n  return SignupForm;\n}(Component);\n\nexport default SignupForm;","map":{"version":3,"sources":["/Users/kylemac/Desktop/classwork/properChannels/client/src/components/SignupForm/index.js"],"names":["React","Component","Container","Col","Row","Button","Form","FormGroup","Label","Input","FormText","axios","Redirect","SelectUSState","SignupForm","state","username","password","confirmPassword","addrStreet","addrCity","addrState","addrZip","redirectTo","handleSubmit","bind","handleChange","handleUsStateSelect","event","setState","target","name","value","preventDefault","console","log","post","address","street","city","zipCode","then","response","data","error","catch","err","selectedValue","pathname"],"mappings":";;;;;;;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,SAAT,EAAoBC,GAApB,EAAyBC,GAAzB,EAA8BC,MAA9B,EAAsCC,IAAtC,EAA4CC,SAA5C,EAAuDC,KAAvD,EAA8DC,KAA9D,EAAqEC,QAArE,QAAqF,YAArF;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,SAASC,QAAT,QAAyB,kBAAzB;AACA,OAAOC,aAAP,MAA0B,wBAA1B;;IAEMC,U;;;;;AACL,wBAAc;AAAA;;AAAA;;AACb;AACA,UAAKC,KAAL,GAAa;AACZC,MAAAA,QAAQ,EAAE,EADE;AAEZC,MAAAA,QAAQ,EAAE,EAFE;AAGZC,MAAAA,eAAe,EAAE,EAHL;AAIZ;AACAC,MAAAA,UAAU,EAAE,EALA;AAMZC,MAAAA,QAAQ,EAAE,EANE;AAOZC,MAAAA,SAAS,EAAE,EAPC;AAQZC,MAAAA,OAAO,EAAE,EARG;AASZC,MAAAA,UAAU,EAAE;AATA,KAAb;AAWA,UAAKC,YAAL,GAAoB,MAAKA,YAAL,CAAkBC,IAAlB,uDAApB;AACA,UAAKC,YAAL,GAAoB,MAAKA,YAAL,CAAkBD,IAAlB,uDAApB;AACA,UAAKE,mBAAL,GAA2B,MAAKA,mBAAL,CAAyBF,IAAzB,uDAA3B;AAfa;AAgBb;;;;iCAEYG,K,EAAO;AAEnB,WAAKC,QAAL,qBACED,KAAK,CAACE,MAAN,CAAaC,IADf,EACsBH,KAAK,CAACE,MAAN,CAAaE,KADnC;AAIA,K,CAED;;;;iCACaJ,K,EAAO;AAAA;;AACnBA,MAAAA,KAAK,CAACK,cAAN,GADmB,CAGnB;;AACA,UAAI,KAAKlB,KAAL,CAAWE,QAAX,KAAwB,KAAKF,KAAL,CAAWG,eAAvC,EAAwD;AACvD;AACAgB,QAAAA,OAAO,CAACC,GAAR,CAAY,KAAKpB,KAAL,CAAWC,QAAvB;AACAkB,QAAAA,OAAO,CAACC,GAAR,CAAY,KAAKpB,KAAL,CAAWE,QAAvB;AACAiB,QAAAA,OAAO,CAACC,GAAR,CAAY,KAAKpB,KAAL,CAAWO,OAAvB,EAJuD,CAKvD;;AACAX,QAAAA,KAAK,CACHyB,IADF,CACO,cADP,EACuB;AACrBpB,UAAAA,QAAQ,EAAE,KAAKD,KAAL,CAAWC,QADA;AAErBC,UAAAA,QAAQ,EAAE,KAAKF,KAAL,CAAWE,QAFA;AAGrB;AACAoB,UAAAA,OAAO,EAAE;AACRC,YAAAA,MAAM,EAAE,KAAKvB,KAAL,CAAWI,UADX;AAERoB,YAAAA,IAAI,EAAE,KAAKxB,KAAL,CAAWK,QAFT;AAGRL,YAAAA,KAAK,EAAE,KAAKA,KAAL,CAAWM,SAHV;AAIRmB,YAAAA,OAAO,EAAE,KAAKzB,KAAL,CAAWO;AAJZ;AAJY,SADvB,EAYC;AAZD,SAaEmB,IAbF,CAaO,UAAAC,QAAQ,EAAI;AAEjBR,UAAAA,OAAO,CAACC,GAAR,CAAYO,QAAZ;;AACA,cAAI,CAACA,QAAQ,CAACC,IAAT,CAAcC,KAAnB,EAA0B;AACzBV,YAAAA,OAAO,CAACC,GAAR,CAAY,kBAAZ;;AACA,YAAA,MAAI,CAACN,QAAL,CAAc;AACbN,cAAAA,UAAU,EAAE;AADC,aAAd;AAGA,WALD,MAKO;AACNW,YAAAA,OAAO,CAACC,GAAR,CAAY,gCAAZ;AACAD,YAAAA,OAAO,CAACC,GAAR,CAAYO,QAAQ,CAACC,IAAT,CAAcC,KAA1B;AACA;AACD,SAzBF,EA0BEC,KA1BF,CA0BQ,UAAAC,GAAG,EAAI;AACbZ,UAAAA,OAAO,CAACC,GAAR,CAAaW,GAAb;AACA,SA5BF;AA6BA;AACD;;;wCAEmBC,a,EAAe;AAClCb,MAAAA,OAAO,CAACC,GAAR,CAAYY,aAAZ;AACA,WAAKlB,QAAL,CAAc;AAACR,QAAAA,SAAS,EAAE0B;AAAZ,OAAd;AACA;;;6BAEQ;AACR,UAAI,KAAKhC,KAAL,CAAWQ,UAAf,EAA2B;AAC1B,eAAO,oBAAC,QAAD;AAAU,UAAA,EAAE,EAAE;AAAEyB,YAAAA,QAAQ,EAAE,KAAKjC,KAAL,CAAWQ;AAAvB,WAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAP;AACA;;AACD,aACC,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC,oBAAC,IAAD;AAAM,QAAA,SAAS,EAAC,YAAhB;AAA6B,QAAA,QAAQ,EAAE,KAAKC,YAA5C;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yCADD,EAIC,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC,oBAAC,KAAD;AAAO,QAAA,OAAO,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADD,EAEC,oBAAC,KAAD;AACC,QAAA,IAAI,EAAC,MADN;AAEC,QAAA,EAAE,EAAC,UAFJ;AAGC,QAAA,IAAI,EAAC,UAHN;AAIC,QAAA,KAAK,EAAE,KAAKT,KAAL,CAAWC,QAJnB;AAKC,QAAA,QAAQ,EAAE,KAAKU,YALhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFD,CADD,CADD,EAaC,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAbD,CAJD,EAqBC,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC,oBAAC,KAAD;AAAO,QAAA,OAAO,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,sBADD,EAEC,oBAAC,KAAD;AACC,QAAA,IAAI,EAAC,UADN;AAEC,QAAA,EAAE,EAAC,UAFJ;AAGC,QAAA,IAAI,EAAC,UAHN;AAIC,QAAA,KAAK,EAAE,KAAKX,KAAL,CAAWE,QAJnB;AAKC,QAAA,QAAQ,EAAE,KAAKS,YALhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFD,CADD,CADD,EAcC,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SAEC,oBAAC,KAAD;AAAO,QAAA,OAAO,EAAC,iBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,8BAFD,EAGC,oBAAC,KAAD;AACC,QAAA,IAAI,EAAC,UADN;AAEC,QAAA,EAAE,EAAC,iBAFJ;AAGC,QAAA,IAAI,EAAC,iBAHN;AAIC,QAAA,KAAK,EAAE,KAAKX,KAAL,CAAWG,eAJnB;AAKC,QAAA,QAAQ,EAAE,KAAKQ,YALhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAHD,CADD,CAdD,CArBD,EAmEC,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADD,EAEC,oBAAC,GAAD;AAAK,QAAA,EAAE,EAAC,GAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC,oBAAC,KAAD;AAAO,QAAA,OAAO,EAAC,YAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,0BADD,EAEC,oBAAC,KAAD;AACC,QAAA,IAAI,EAAC,MADN;AAEC,QAAA,EAAE,EAAC,YAFJ;AAGC,QAAA,IAAI,EAAC,YAHN;AAIC,QAAA,KAAK,EAAE,KAAKX,KAAL,CAAWI,UAJnB;AAKC,QAAA,QAAQ,EAAE,KAAKO,YALhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFD,CADD,CAFD,EAcC,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAdD,CAnED,EAqFC,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QADD,EAGC,oBAAC,GAAD;AAAK,QAAA,EAAE,EAAC,GAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC,oBAAC,KAAD;AAAO,QAAA,OAAO,EAAC,UAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBADD,EAEC,oBAAC,KAAD;AACC,QAAA,IAAI,EAAC,MADN;AAEC,QAAA,EAAE,EAAC,UAFJ;AAGC,QAAA,IAAI,EAAC,UAHN;AAIC,QAAA,KAAK,EAAE,KAAKX,KAAL,CAAWK,QAJnB;AAKC,QAAA,QAAQ,EAAE,KAAKM,YALhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFD,CADD,CAHD,EAgBC,oBAAC,GAAD;AAAK,QAAA,EAAE,EAAC,GAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC,oBAAC,KAAD;AAAO,QAAA,OAAO,EAAC,WAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,iBADD,EAEC,oBAAC,aAAD;AAAe,QAAA,EAAE,EAAC,WAAlB;AAA8B,QAAA,IAAI,EAAC,WAAnC;AAA+C,QAAA,SAAS,EAAC,cAAzD;AAAwE,QAAA,QAAQ,EAAE,KAAKC,mBAAvF;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFD,CADD,CAhBD,EAuBC,oBAAC,GAAD;AAAK,QAAA,EAAE,EAAC,GAAR;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACC,oBAAC,KAAD;AAAO,QAAA,OAAO,EAAC,SAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,oBADD,EAEC,oBAAC,KAAD;AACC,QAAA,IAAI,EAAC,MADN;AAEC,QAAA,EAAE,EAAC,SAFJ;AAGC,QAAA,IAAI,EAAC,SAHN;AAIC,QAAA,KAAK,EAAE,KAAKZ,KAAL,CAAWO,OAJnB;AAKC,QAAA,QAAQ,EAAE,KAAKI,YALhB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QAFD,CADD,CAvBD,EAoCC,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,QApCD,CArFD,EA4HC,oBAAC,MAAD;AAAQ,QAAA,IAAI,EAAC,QAAb;AAAsB,QAAA,KAAK,EAAC,SAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,mBA5HD,CADD,CADD;AAkIA;;;;EAjNuBzB,S;;AAoNzB,eAAea,UAAf","sourcesContent":["import React, { Component } from 'react'\nimport { Container, Col, Row, Button, Form, FormGroup, Label, Input, FormText } from 'reactstrap';\nimport axios from 'axios'\nimport { Redirect } from 'react-router-dom'\nimport SelectUSState from 'react-select-us-states';\n\nclass SignupForm extends Component {\n\tconstructor() {\n\t\tsuper()\n\t\tthis.state = {\n\t\t\tusername: '',\n\t\t\tpassword: '',\n\t\t\tconfirmPassword: '',\n\t\t\t// address: '',\n\t\t\taddrStreet: '',\n\t\t\taddrCity: '',\n\t\t\taddrState: '',\n\t\t\taddrZip: '',\n\t\t\tredirectTo: null\n\t\t}\n\t\tthis.handleSubmit = this.handleSubmit.bind(this)\n\t\tthis.handleChange = this.handleChange.bind(this)\n\t\tthis.handleUsStateSelect = this.handleUsStateSelect.bind(this);\n\t}\n\t\n\thandleChange(event) {\n\t\t\n\t\tthis.setState({\n\t\t\t[event.target.name]: event.target.value\n\t\t})\n\n\t}\n\n\t// Handle submission of signup form\n\thandleSubmit(event) {\n\t\tevent.preventDefault()\n\t\t\n\t\t// Check that password and confirmPassword are identical\n\t\tif (this.state.password === this.state.confirmPassword) {\n\t\t\t// TODO - add error notification for user if non-matching\n\t\t\tconsole.log(this.state.username);\n\t\t\tconsole.log(this.state.password);\n\t\t\tconsole.log(this.state.addrZip);\n\t\t\t// POST signup request\n\t\t\taxios\n\t\t\t\t.post('/auth/signup', {\n\t\t\t\t\tusername: this.state.username,\n\t\t\t\t\tpassword: this.state.password,\n\t\t\t\t\t// address: this.state.address\n\t\t\t\t\taddress: {\n\t\t\t\t\t\tstreet: this.state.addrStreet,\n\t\t\t\t\t\tcity: this.state.addrCity,\n\t\t\t\t\t\tstate: this.state.addrState,\n\t\t\t\t\t\tzipCode: this.state.addrZip\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t// Wait for response to see if signup successful\n\t\t\t\t.then(response => {\n\t\t\t\t\t\n\t\t\t\t\tconsole.log(response)\n\t\t\t\t\tif (!response.data.error) {\n\t\t\t\t\t\tconsole.log('SUCCESSFUL LOGIN')\n\t\t\t\t\t\tthis.setState({\n\t\t\t\t\t\t\tredirectTo: '/login'\n\t\t\t\t\t\t})\n\t\t\t\t\t} else {\n\t\t\t\t\t\tconsole.log('Error adding user to database:')\n\t\t\t\t\t\tconsole.log(response.data.error)\n\t\t\t\t\t}\n\t\t\t\t})\n\t\t\t\t.catch(err => {\n\t\t\t\t\tconsole.log( err)\n\t\t\t\t})\n\t\t}\n\t}\n\n\thandleUsStateSelect(selectedValue) {\n\t\tconsole.log(selectedValue)\n\t\tthis.setState({addrState: selectedValue})\n\t}\n\n\trender() {\n\t\tif (this.state.redirectTo) {\n\t\t\treturn <Redirect to={{ pathname: this.state.redirectTo }} />\n\t\t}\n\t\treturn (\n\t\t\t<Container>\n\t\t\t\t<Form className=\"SignupForm\" onSubmit={this.handleSubmit}>\n\t\t\t\t\t<h2>Register with Proper Channels</h2>\n\t\t\t\t\t\n\t\t\t\t\t{/* Username entry */}\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t<FormGroup>\n\t\t\t\t\t\t\t\t<Label htmlFor=\"username\">Username: </Label>\n\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tid=\"username\"\n\t\t\t\t\t\t\t\t\tname=\"username\"\n\t\t\t\t\t\t\t\t\tvalue={this.state.username}\n\t\t\t\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col/>\n\t\t\t\t\t</Row>\n\t\t\t\t\t\n\t\t\t\t\t{/* Password/confirm entry */}\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t<FormGroup>\n\t\t\t\t\t\t\t\t<Label htmlFor=\"password\">Password: </Label>\n\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\t\t\tid=\"password\"\n\t\t\t\t\t\t\t\t\tname=\"password\"\n\t\t\t\t\t\t\t\t\tvalue={this.state.password}\n\t\t\t\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t\n\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t<FormGroup>\n\t\t\t\t\t\t\t\t\n\t\t\t\t\t\t\t\t<Label htmlFor=\"confirmPassword\">Confirm Password: </Label>\n\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\t\t\t\tid=\"confirmPassword\"\n\t\t\t\t\t\t\t\t\tname=\"confirmPassword\"\n\t\t\t\t\t\t\t\t\tvalue={this.state.confirmPassword}\n\t\t\t\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row>\n\n\t\t\t\t\t{/* DEFUNCT: Old-style address entry */}\n\t\t\t\t\t{/* <Row>\n\t\t\t\t\t\t<Col>\n\t\t\t\t\t\t\t<FormGroup>\n\t\t\t\t\t\t\t\t<Label htmlFor=\"address\">Address: </Label>\n\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tid=\"address\"\n\t\t\t\t\t\t\t\t\tname=\"address\"\n\t\t\t\t\t\t\t\t\tvalue={this.state.address}\n\t\t\t\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t</Row> */}\n\t\t\t\t\t\n\t\t\t\t\t{/* Address first row: street address */}\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Col />\n\t\t\t\t\t\t<Col xs=\"9\">\n\t\t\t\t\t\t\t<FormGroup>\n\t\t\t\t\t\t\t\t<Label htmlFor=\"addrStreet\">Street Address</Label>\n\t\t\t\t\t\t\t\t<Input \n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tid=\"addrStreet\"\n\t\t\t\t\t\t\t\t\tname=\"addrStreet\"\n\t\t\t\t\t\t\t\t\tvalue={this.state.addrStreet}\n\t\t\t\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t\t</Col>\n\t\t\t\t\t\t<Col />\n\t\t\t\t\t</Row>\n\t\t\t\t\t\n\t\t\t\t\t{/* Address second row: city/state/zip */}\n\t\t\t\t\t<Row>\n\t\t\t\t\t\t<Col />\n\n\t\t\t\t\t\t<Col xs=\"4\">\n\t\t\t\t\t\t\t<FormGroup>\n\t\t\t\t\t\t\t\t<Label htmlFor=\"addrCity\">City</Label>\n\t\t\t\t\t\t\t\t<Input \n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tid=\"addrCity\"\n\t\t\t\t\t\t\t\t\tname=\"addrCity\"\n\t\t\t\t\t\t\t\t\tvalue={this.state.addrCity}\n\t\t\t\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t\t</Col>\n\n\t\t\t\t\t\t<Col xs=\"3\">\n\t\t\t\t\t\t\t<FormGroup>\n\t\t\t\t\t\t\t\t<Label htmlFor=\"addrState\">State</Label>\n\t\t\t\t\t\t\t\t<SelectUSState id=\"addrState\" name=\"addrState\" className=\"form-control\" onChange={this.handleUsStateSelect} />\n\t\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t\t</Col>\n\n\t\t\t\t\t\t<Col xs=\"2\">\n\t\t\t\t\t\t\t<FormGroup>\n\t\t\t\t\t\t\t\t<Label htmlFor=\"addrZip\">Zip Code</Label>\n\t\t\t\t\t\t\t\t<Input\n\t\t\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\t\t\tid=\"addrZip\"\n\t\t\t\t\t\t\t\t\tname=\"addrZip\"\n\t\t\t\t\t\t\t\t\tvalue={this.state.addrZip}\n\t\t\t\t\t\t\t\t\tonChange={this.handleChange}\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</FormGroup>\n\t\t\t\t\t\t</Col>\n\n\t\t\t\t\t\t<Col />\n\t\t\t\t\t</Row>\n\n\t\t\t\t\t<Button type=\"submit\" color=\"primary\" >Sign up</Button>\n\t\t\t\t</Form>\n\t\t\t</Container>\n\t\t)\n\t}\n}\n\nexport default SignupForm\n"]},"metadata":{},"sourceType":"module"}