{"ast":null,"code":"import _classCallCheck from \"/Users/kylemac/Desktop/classwork/properChannels/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/kylemac/Desktop/classwork/properChannels/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/kylemac/Desktop/classwork/properChannels/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/kylemac/Desktop/classwork/properChannels/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/kylemac/Desktop/classwork/properChannels/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/kylemac/Desktop/classwork/properChannels/client/src/components/Districts/districts.js\";\n// import \"./districts.css\"\n// import React from \"react\";\n//const Districts = props => <div className=\"districts\">{props.children}</div>\nimport React, { Component } from \"react\";\nimport { Col, Row, Container } from \"../Grid\";\nimport { List } from \"../List\";\nimport Senator from \"../Senator\";\nimport SignupForm from \"../SignupForm\";\nimport API from \"../../utils/API\";\nimport axios from \"axios\"; //const User = require('../../../db/models/user');\n\nvar Districts =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Districts, _Component);\n\n  function Districts() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Districts);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Districts)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      senators: [],\n      congressmen: [],\n      user: _this.props.user\n    };\n    return _this;\n  }\n\n  _createClass(Districts, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      console.log(\"THIS.PROPS:\");\n      console.log(this.props);\n    } // Populate state with user data\n    // if (props.address) {\n    //   this.setState(\n    //     {\n    //       address: props.address\n    //     }\n    //   )        \n    // }\n    //}\n    // getSenators = () => {\n    //   API.getSenators()\n    //     .then(res => {\n    //       console.log(\"RES:\");\n    //       console.log(res);\n    //       this.setState({\n    //         senators: res\n    //       })}\n    //     )\n    //     .catch(() =>\n    //       this.setState({\n    //         senators: [],\n    //         message: \"No Senators Found, Try a Different Query\"\n    //       })\n    //     );\n    // };\n    // componentDidMount() {\n    //   this.getSenators();\n    // }\n\n  }, {\n    key: \"componentWillMount\",\n    value: function componentWillMount() {\n      var _this2 = this;\n\n      axios({\n        method: 'get',\n        baseURL: 'https://api.propublica.org/congress/v1/116/senate/members.json',\n        headers: {\n          'X-API-Key': 'kbvtlqxgtqEP4TbguBcbVICEbNTmsBy8f9r4owm6'\n        }\n      }).then(function (res) {\n        // do something with data\n        console.log('api response in componentDidMount: ', res.data);\n\n        _this2.setState({\n          senators: res.data.results,\n          user: _this2.props.user\n        });\n      }).catch(function (err) {\n        return console.log(err);\n      });\n      axios({\n        method: 'get',\n        baseURL: 'https://api.propublica.org/congress/v1/116/house/members.json',\n        headers: {\n          'X-API-Key': 'kbvtlqxgtqEP4TbguBcbVICEbNTmsBy8f9r4owm6'\n        }\n      }).then(function (res) {\n        // do something with data\n        console.log('api response in componentDidMount for congress: ', res.data);\n\n        _this2.setState({\n          congressmen: res.data.results,\n          user: _this2.props.user\n        });\n      }).catch(function (err) {\n        return console.log(err);\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      console.log(\"senators:\");\n      console.log(this.state.senators);\n      var waSenators = [];\n      var waCongressmen = [];\n      console.log(\"THIS.PROPS in render:\");\n      console.log(this.props);\n\n      if (this.props.user != null) {\n        console.log(\"THIS.PROPS.USER.ADDRESS\");\n        console.log(this.props.user.address);\n      }\n\n      this.state.senators.length ? this.state.senators[0].members.map(function (senator) {\n        if (_this3.props.user != null) {\n          if (senator.state === _this3.props.user.address) {\n            waSenators.push(senator);\n          }\n        }\n      }) : console.log(\"\");\n      this.state.congressmen.length ? this.state.congressmen[0].members.map(function (congressman) {\n        if (_this3.props.user != null) {\n          if (congressman.state === _this3.props.user.address) {\n            waCongressmen.push(congressman);\n          }\n        }\n      }) : console.log(\"\");\n\n      if (this.props.user == null) {\n        return React.createElement(Container, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 121\n          },\n          __self: this\n        }, React.createElement(Row, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 122\n          },\n          __self: this\n        }, React.createElement(\"h1\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 123\n          },\n          __self: this\n        }, \"LOADING....\")));\n      } else {\n        return React.createElement(Container, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 129\n          },\n          __self: this\n        }, React.createElement(Row, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 130\n          },\n          __self: this\n        }, this.state.senators.length ? React.createElement(List, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 132\n          },\n          __self: this\n        }, waSenators.map(function (senator) {\n          return React.createElement(Senator, {\n            first_name: senator.first_name,\n            last_name: senator.last_name,\n            title: \"Senator\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 135\n            },\n            __self: this\n          });\n        })) : React.createElement(\"h2\", {\n          className: \"text-center\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 143\n          },\n          __self: this\n        }, this.state.message)), React.createElement(Row, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 146\n          },\n          __self: this\n        }, React.createElement(\"p\", {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 146\n          },\n          __self: this\n        })), React.createElement(Row, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 147\n          },\n          __self: this\n        }, this.state.congressmen.length ? React.createElement(List, {\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 149\n          },\n          __self: this\n        }, waCongressmen.map(function (senator) {\n          return React.createElement(Senator, {\n            first_name: senator.first_name,\n            last_name: senator.last_name,\n            title: \"Congressman\",\n            __source: {\n              fileName: _jsxFileName,\n              lineNumber: 152\n            },\n            __self: this\n          });\n        })) : React.createElement(\"h2\", {\n          className: \"text-center\",\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 160\n          },\n          __self: this\n        }, this.state.message)));\n      }\n    }\n  }]);\n\n  return Districts;\n}(Component);\n\nexport default Districts;","map":{"version":3,"sources":["/Users/kylemac/Desktop/classwork/properChannels/client/src/components/Districts/districts.js"],"names":["React","Component","Col","Row","Container","List","Senator","SignupForm","API","axios","Districts","state","senators","congressmen","user","props","console","log","method","baseURL","headers","then","res","data","setState","results","catch","err","waSenators","waCongressmen","address","length","members","map","senator","push","congressman","first_name","last_name","message"],"mappings":";;;;;;AAAA;AACA;AAEA;AAEA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AACA,SAASC,GAAT,EAAcC,GAAd,EAAmBC,SAAnB,QAAoC,SAApC;AACA,SAAQC,IAAR,QAAmB,SAAnB;AACA,OAAOC,OAAP,MAAoB,YAApB;AACA,OAAOC,UAAP,MAAuB,eAAvB;AACA,OAAOC,GAAP,MAAgB,iBAAhB;AACA,OAAOC,KAAP,MAAkB,OAAlB,C,CACA;;IAEMC,S;;;;;;;;;;;;;;;;;UAEJC,K,GAAQ;AACLC,MAAAA,QAAQ,EAAE,EADL;AAELC,MAAAA,WAAW,EAAE,EAFR;AAGLC,MAAAA,IAAI,EAAE,MAAKC,KAAL,CAAWD;AAHZ,K;;;;;;wCAMY;AAClBE,MAAAA,OAAO,CAACC,GAAR,CAAY,aAAZ;AACAD,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKF,KAAjB;AACD,K,CAEC;AACE;AACA;AACA;AACA;AACA;AACA;AACA;AAEN;AAGE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;;;;yCAEqB;AAAA;;AACnBN,MAAAA,KAAK,CAAC;AACJS,QAAAA,MAAM,EAAE,KADJ;AAEJC,QAAAA,OAAO,EAAE,gEAFL;AAGJC,QAAAA,OAAO,EAAE;AAAC,uBAAa;AAAd;AAHL,OAAD,CAAL,CAIGC,IAJH,CAIQ,UAAAC,GAAG,EAAI;AACb;AACAN,QAAAA,OAAO,CAACC,GAAR,CAAY,qCAAZ,EAAmDK,GAAG,CAACC,IAAvD;;AACA,QAAA,MAAI,CAACC,QAAL,CAAc;AACZZ,UAAAA,QAAQ,EAAEU,GAAG,CAACC,IAAJ,CAASE,OADP;AAEZX,UAAAA,IAAI,EAAE,MAAI,CAACC,KAAL,CAAWD;AAFL,SAAd;AAID,OAXD,EAYCY,KAZD,CAYO,UAAAC,GAAG;AAAA,eAAIX,OAAO,CAACC,GAAR,CAAYU,GAAZ,CAAJ;AAAA,OAZV;AAcAlB,MAAAA,KAAK,CAAC;AACJS,QAAAA,MAAM,EAAE,KADJ;AAEJC,QAAAA,OAAO,EAAE,+DAFL;AAGJC,QAAAA,OAAO,EAAE;AAAC,uBAAa;AAAd;AAHL,OAAD,CAAL,CAIGC,IAJH,CAIQ,UAAAC,GAAG,EAAI;AACb;AACAN,QAAAA,OAAO,CAACC,GAAR,CAAY,kDAAZ,EAAgEK,GAAG,CAACC,IAApE;;AACA,QAAA,MAAI,CAACC,QAAL,CAAc;AACZX,UAAAA,WAAW,EAAES,GAAG,CAACC,IAAJ,CAASE,OADV;AAEZX,UAAAA,IAAI,EAAE,MAAI,CAACC,KAAL,CAAWD;AAFL,SAAd;AAID,OAXD,EAYCY,KAZD,CAYO,UAAAC,GAAG;AAAA,eAAIX,OAAO,CAACC,GAAR,CAAYU,GAAZ,CAAJ;AAAA,OAZV;AAaC;;;6BAGM;AAAA;;AACPX,MAAAA,OAAO,CAACC,GAAR,CAAY,WAAZ;AACAD,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKN,KAAL,CAAWC,QAAvB;AACA,UAAMgB,UAAU,GAAG,EAAnB;AACA,UAAMC,aAAa,GAAG,EAAtB;AACAb,MAAAA,OAAO,CAACC,GAAR,CAAY,uBAAZ;AACAD,MAAAA,OAAO,CAACC,GAAR,CAAY,KAAKF,KAAjB;;AACA,UAAI,KAAKA,KAAL,CAAWD,IAAX,IAAmB,IAAvB,EAA6B;AAC3BE,QAAAA,OAAO,CAACC,GAAR,CAAY,yBAAZ;AACAD,QAAAA,OAAO,CAACC,GAAR,CAAY,KAAKF,KAAL,CAAWD,IAAX,CAAgBgB,OAA5B;AACD;;AACD,WAAKnB,KAAL,CAAWC,QAAX,CAAoBmB,MAApB,GAA4B,KAAKpB,KAAL,CAAWC,QAAX,CAAoB,CAApB,EAAuBoB,OAAvB,CAA+BC,GAA/B,CAAmC,UAAAC,OAAO,EAAI;AAC1E,YAAI,MAAI,CAACnB,KAAL,CAAWD,IAAX,IAAmB,IAAvB,EAA6B;AAC3B,cAAIoB,OAAO,CAACvB,KAAR,KAAkB,MAAI,CAACI,KAAL,CAAWD,IAAX,CAAgBgB,OAAtC,EAA+C;AAC7CF,YAAAA,UAAU,CAACO,IAAX,CAAgBD,OAAhB;AACC;AACF;AACF,OAN2B,CAA5B,GAMKlB,OAAO,CAACC,GAAR,CAAY,EAAZ,CANL;AAQA,WAAKN,KAAL,CAAWE,WAAX,CAAuBkB,MAAvB,GAA+B,KAAKpB,KAAL,CAAWE,WAAX,CAAuB,CAAvB,EAA0BmB,OAA1B,CAAkCC,GAAlC,CAAsC,UAAAG,WAAW,EAAI;AAClF,YAAI,MAAI,CAACrB,KAAL,CAAWD,IAAX,IAAmB,IAAvB,EAA6B;AAC3B,cAAIsB,WAAW,CAACzB,KAAZ,KAAsB,MAAI,CAACI,KAAL,CAAWD,IAAX,CAAgBgB,OAA1C,EAAmD;AACjDD,YAAAA,aAAa,CAACM,IAAd,CAAmBC,WAAnB;AACC;AACF;AACF,OAN4B,CAA/B,GAMOpB,OAAO,CAACC,GAAR,CAAY,EAAZ,CANP;;AAQA,UAAI,KAAKF,KAAL,CAAWD,IAAX,IAAmB,IAAvB,EAA6B;AAC3B,eACE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,yBADF,CADF,CADF;AAOD,OARD,MAQO;AACP,eACE,oBAAC,SAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACE,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACO,KAAKH,KAAL,CAAWC,QAAX,CAAoBmB,MAApB,GACC,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAEEH,UAAU,CAACK,GAAX,CAAe,UAAAC,OAAO;AAAA,iBACpB,oBAAC,OAAD;AACA,YAAA,UAAU,EAAEA,OAAO,CAACG,UADpB;AAEA,YAAA,SAAS,EAAEH,OAAO,CAACI,SAFnB;AAGA,YAAA,KAAK,EAAE,SAHP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADoB;AAAA,SAAtB,CAFF,CADD,GAYC;AAAI,UAAA,SAAS,EAAC,aAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAA6B,KAAK3B,KAAL,CAAW4B,OAAxC,CAbR,CADF,EAiBE,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAAK;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,UAAL,CAjBF,EAkBE,oBAAC,GAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WACO,KAAK5B,KAAL,CAAWE,WAAX,CAAuBkB,MAAvB,GACC,oBAAC,IAAD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAEEF,aAAa,CAACI,GAAd,CAAkB,UAAAC,OAAO;AAAA,iBACvB,oBAAC,OAAD;AACA,YAAA,UAAU,EAAEA,OAAO,CAACG,UADpB;AAEA,YAAA,SAAS,EAAEH,OAAO,CAACI,SAFnB;AAGA,YAAA,KAAK,EAAE,aAHP;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,YADuB;AAAA,SAAzB,CAFF,CADD,GAYC;AAAI,UAAA,SAAS,EAAC,aAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,WAA6B,KAAK3B,KAAL,CAAW4B,OAAxC,CAbR,CAlBF,CADF;AAsCD;AACF;;;;EAxJuBtC,S;;AA4JxB,eAAeS,SAAf","sourcesContent":["// import \"./districts.css\"\n// import React from \"react\";\n\n//const Districts = props => <div className=\"districts\">{props.children}</div>\n\nimport React, { Component } from \"react\";\nimport { Col, Row, Container } from \"../Grid\";\nimport {List} from \"../List\";\nimport Senator from \"../Senator\";\nimport SignupForm from \"../SignupForm\";\nimport API from \"../../utils/API\";\nimport axios from \"axios\";\n//const User = require('../../../db/models/user');\n\nclass Districts extends Component {\n\n  state = {\n     senators: [],\n     congressmen: [],\n     user: this.props.user\n  }\n\n  componentDidMount() {\n    console.log(\"THIS.PROPS:\");\n    console.log(this.props);\n  }\n  \n    // Populate state with user data\n      // if (props.address) {\n      //   this.setState(\n      //     {\n      //       address: props.address\n      //     }\n      //   )        \n      // }\n\n//}\n\n\n  // getSenators = () => {\n  //   API.getSenators()\n  //     .then(res => {\n  //       console.log(\"RES:\");\n  //       console.log(res);\n  //       this.setState({\n  //         senators: res\n  //       })}\n  //     )\n  //     .catch(() =>\n  //       this.setState({\n  //         senators: [],\n  //         message: \"No Senators Found, Try a Different Query\"\n  //       })\n  //     );\n  // };\n\n  // componentDidMount() {\n  //   this.getSenators();\n  // }\n\n  componentWillMount() {\n    axios({\n      method: 'get',\n      baseURL: 'https://api.propublica.org/congress/v1/116/senate/members.json',\n      headers: {'X-API-Key': 'kbvtlqxgtqEP4TbguBcbVICEbNTmsBy8f9r4owm6'}\n    }).then(res => {\n      // do something with data\n      console.log('api response in componentDidMount: ', res.data)\n      this.setState({\n        senators: res.data.results,\n        user: this.props.user\n      })\n    })    \n    .catch(err => console.log(err));\n\n    axios({\n      method: 'get',\n      baseURL: 'https://api.propublica.org/congress/v1/116/house/members.json',\n      headers: {'X-API-Key': 'kbvtlqxgtqEP4TbguBcbVICEbNTmsBy8f9r4owm6'}\n    }).then(res => {\n      // do something with data\n      console.log('api response in componentDidMount for congress: ', res.data)\n      this.setState({\n        congressmen: res.data.results,\n        user: this.props.user\n      })\n    })    \n    .catch(err => console.log(err));\n    }\n  \n\n  render() {\n    console.log(\"senators:\");\n    console.log(this.state.senators);\n    const waSenators = [];\n    const waCongressmen = [];\n    console.log(\"THIS.PROPS in render:\")\n    console.log(this.props);\n    if (this.props.user != null) {\n      console.log(\"THIS.PROPS.USER.ADDRESS\")\n      console.log(this.props.user.address);\n    }\n    this.state.senators.length?(this.state.senators[0].members.map(senator => {\n    if (this.props.user != null) {\n      if (senator.state === this.props.user.address) {\n        waSenators.push(senator);\n        }\n      }\n    })):(console.log(\"\"));\n\n    this.state.congressmen.length?(this.state.congressmen[0].members.map(congressman => {\n      if (this.props.user != null) {\n        if (congressman.state === this.props.user.address) {\n          waCongressmen.push(congressman);\n          }\n        }\n      })):(console.log(\"\"));\n  \n    if (this.props.user == null) {\n      return (\n        <Container>\n          <Row>\n            <h1>LOADING....</h1>\n          </Row>\n        </Container>\n      )\n    } else {\n    return (\n      <Container>\n        <Row>\n              {this.state.senators.length ? (\n                <List>\n                  {\n                  waSenators.map(senator => (\n                    <Senator\n                    first_name={senator.first_name}\n                    last_name={senator.last_name}\n                    title={\"Senator\"}\n                    />\n                  ))}\n                </List>\n              ) : (\n                <h2 className=\"text-center\">{this.state.message}</h2>\n              )}\n        </Row>\n        <Row><p></p></Row>\n        <Row>\n              {this.state.congressmen.length ? (\n                <List>\n                  {\n                  waCongressmen.map(senator => (\n                    <Senator\n                    first_name={senator.first_name}\n                    last_name={senator.last_name}\n                    title={\"Congressman\"}\n                    />\n                  ))}\n                </List>\n              ) : (\n                <h2 className=\"text-center\">{this.state.message}</h2>\n              )}\n        </Row>\n        {/* <Footer /> */}\n      </Container>\n    );\n  }\n}\n}\n\n\nexport default Districts;"]},"metadata":{},"sourceType":"module"}