{"ast":null,"code":"import _classCallCheck from \"/Users/kylemac/Desktop/classwork/properChannels/client/node_modules/@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"/Users/kylemac/Desktop/classwork/properChannels/client/node_modules/@babel/runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"/Users/kylemac/Desktop/classwork/properChannels/client/node_modules/@babel/runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"/Users/kylemac/Desktop/classwork/properChannels/client/node_modules/@babel/runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"/Users/kylemac/Desktop/classwork/properChannels/client/node_modules/@babel/runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"/Users/kylemac/Desktop/classwork/properChannels/client/src/components/Districts/districts.js\";\n// import \"./districts.css\"\n// import React from \"react\";\n//const Districts = props => <div className=\"districts\">{props.children}</div>\nimport React, { Component } from \"react\";\nimport { Col, Row, Container } from \"../Grid\";\nimport { List } from \"../List\";\nimport Senator from \"../Senator\";\nimport SignupForm from \"../SignupForm\";\nimport API from \"../../utils/API\";\nimport axios from \"axios\"; //const User = require('../../../db/models/user');\n\nvar Districts =\n/*#__PURE__*/\nfunction (_Component) {\n  _inherits(Districts, _Component);\n\n  function Districts() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, Districts);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(Districts)).call.apply(_getPrototypeOf2, [this].concat(args)));\n    _this.state = {\n      senators: [],\n      address: null\n    };\n    return _this;\n  }\n\n  _createClass(Districts, [{\n    key: \"componentWillMount\",\n    // getSenators = () => {\n    //   API.getSenators()\n    //     .then(res => {\n    //       console.log(\"RES:\");\n    //       console.log(res);\n    //       this.setState({\n    //         senators: res\n    //       })}\n    //     )\n    //     .catch(() =>\n    //       this.setState({\n    //         senators: [],\n    //         message: \"No Senators Found, Try a Different Query\"\n    //       })\n    //     );\n    // };\n    // componentDidMount() {\n    //   this.getSenators();\n    // }\n    value: function componentWillMount() {\n      var _this2 = this;\n\n      axios({\n        method: 'get',\n        baseURL: 'https://api.propublica.org/congress/v1/116/senate/members.json',\n        headers: {\n          'X-API-Key': 'kbvtlqxgtqEP4TbguBcbVICEbNTmsBy8f9r4owm6'\n        }\n      }).then(function (res) {\n        // do something with data\n        console.log('api response in componentDidMount: ', res.data);\n\n        _this2.setState({\n          senators: res.data.results\n        });\n      }).catch(function (err) {\n        return console.log(err);\n      });\n      axios.get('/auth/user').then(function (response) {\n        console.log(\"RESPONSE.DATA\");\n        console.log(response.data);\n\n        if (!!response.data.user) {\n          console.log('THERE IS A USER');\n\n          _this2.setState({\n            address: response.data.user.address\n          });\n        } else {\n          _this2.setState({\n            address: null\n          });\n        }\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      console.log(\"senators:\");\n      console.log(this.state.senators);\n      var waSenators = [];\n      console.log(\"THIS.STATE.ADDRESS:\");\n      console.log(this.state.address);\n      this.state.senators.length ? this.state.senators[0].members.map(function (senator) {\n        if (senator.state === \"WA\") {\n          waSenators.push(senator);\n        }\n      }) : console.log(\"\");\n      console.log(\"ADDRESS:\");\n      console.log(this.props.address);\n      return React.createElement(Container, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 92\n        },\n        __self: this\n      }, React.createElement(Row, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 93\n        },\n        __self: this\n      }, this.state.senators.length ? React.createElement(List, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 96\n        },\n        __self: this\n      }, waSenators.map(function (senator) {\n        return React.createElement(Senator, {\n          first_name: senator.first_name,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 99\n          },\n          __self: this\n        });\n      })) : React.createElement(\"h2\", {\n        className: \"text-center\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 105\n        },\n        __self: this\n      }, this.state.message)));\n    }\n  }]);\n\n  return Districts;\n}(Component);\n\nexport default Districts;","map":{"version":3,"sources":["/Users/kylemac/Desktop/classwork/properChannels/client/src/components/Districts/districts.js"],"names":["React","Component","Col","Row","Container","List","Senator","SignupForm","API","axios","Districts","state","senators","address","method","baseURL","headers","then","res","console","log","data","setState","results","catch","err","get","response","user","waSenators","length","members","map","senator","push","props","first_name","message"],"mappings":"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","sourcesContent":["// import \"./districts.css\"\n// import React from \"react\";\n\n//const Districts = props => <div className=\"districts\">{props.children}</div>\n\nimport React, { Component } from \"react\";\nimport { Col, Row, Container } from \"../Grid\";\nimport {List} from \"../List\";\nimport Senator from \"../Senator\";\nimport SignupForm from \"../SignupForm\";\nimport API from \"../../utils/API\";\nimport axios from \"axios\";\n//const User = require('../../../db/models/user');\n\nclass Districts extends Component {\n  state = {\n    senators: [],\n    address: null\n  };\n\n  // getSenators = () => {\n  //   API.getSenators()\n  //     .then(res => {\n  //       console.log(\"RES:\");\n  //       console.log(res);\n  //       this.setState({\n  //         senators: res\n  //       })}\n  //     )\n  //     .catch(() =>\n  //       this.setState({\n  //         senators: [],\n  //         message: \"No Senators Found, Try a Different Query\"\n  //       })\n  //     );\n  // };\n\n  // componentDidMount() {\n  //   this.getSenators();\n  // }\n\n  componentWillMount() {\n    axios({\n      method: 'get',\n      baseURL: 'https://api.propublica.org/congress/v1/116/senate/members.json',\n      headers: {'X-API-Key': 'kbvtlqxgtqEP4TbguBcbVICEbNTmsBy8f9r4owm6'}\n    }).then(res => {\n      // do something with data\n      console.log('api response in componentDidMount: ', res.data)\n      this.setState({\n        senators: res.data.results\n      })\n    })    \n    .catch(err => console.log(err));\n\n    axios.get('/auth/user').then(response => {\n      console.log(\"RESPONSE.DATA\");\n\t\t\tconsole.log(response.data)\n\t\t\tif (!!response.data.user) {\n\t\t\t\tconsole.log('THERE IS A USER')\n\t\t\t\tthis.setState({\n\t\t\t\t\taddress: response.data.user.address\n\t\t\t\t})\n\t\t\t} else {\n\t\t\t\tthis.setState({\n\t\t\t\t\taddress: null\n\t\t\t\t})\n\t\t\t}\n\t\t})\n\n    }\n  \n\n  render() {\n    console.log(\"senators:\");\n    console.log(this.state.senators);\n    const waSenators = [];\n    console.log(\"THIS.STATE.ADDRESS:\")\n    console.log(this.state.address);\n    this.state.senators.length?(this.state.senators[0].members.map(senator => {\n    if (senator.state === \"WA\") {\n      waSenators.push(senator);\n      }\n    })):(console.log(\"\"));\n    \n    console.log(\"ADDRESS:\");\n    console.log(this.props.address);\n\n    \n\n    return (\n      <Container>\n        <Row>\n            {/* </Row><Card title=\"Results\"> */}\n              {this.state.senators.length ? (\n                <List>\n                  {\n                  waSenators.map(senator => (\n                    <Senator\n                    first_name={senator.first_name}\n                    />\n                  ))}\n                </List>\n              ) : (\n                <h2 className=\"text-center\">{this.state.message}</h2>\n              )}\n            {/* </Row></Card> */}\n          {/* </Col> */}\n        </Row>\n        {/* <Footer /> */}\n      </Container>\n    );\n  }\n}\n\n\nexport default Districts;"]},"metadata":{},"sourceType":"module"}